<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RubiksWord</title>
  <style>
    body {
      background-color: #1e1e1e;
      color: white;
      font-family: sans-serif;
      text-align: center;
      padding: 20px;
      margin: 0;
    }

    .center-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .game-container {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      grid-template-rows: repeat(7, 1fr);
      gap: 1vw;
      max-width: 90vw;
      max-height: 90vw;
    }

    .cell, .btn {
      width: 12vw;
      height: 12vw;
      max-width: 60px;
      max-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 5vw;
      font-weight: bold;
      border-radius: 6px;
      transition: transform 0.3s;
    }

    .cell {
      background-color: #333;
      border: 2px solid #555;
    }

    .btn {
      background-color: #444;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.2s;
    }

    .empty {
      background: transparent;
    }

    #moves {
      margin-top: 20px;
      font-size: 1.2em;
    }

    #newGameBtn {
      background-color: green;
      margin-top: 20px;
      padding: 1em 2em;
      font-size: 1.5em;
      min-width: 180px;
    }

    /* Animation classes */
    .slide-right { animation: slideRight 0.3s; }
    .slide-left { animation: slideLeft 0.3s; }
    .slide-up { animation: slideUp 0.3s; }
    .slide-down { animation: slideDown 0.3s; }

    @keyframes slideRight {
      0% { transform: translateX(0); }
      100% { transform: translateX(65px); }
    }
    @keyframes slideLeft {
      0% { transform: translateX(0); }
      100% { transform: translateX(-65px); }
    }
    @keyframes slideDown {
      0% { transform: translateY(0); }
      100% { transform: translateY(65px); }
    }
    @keyframes slideUp {
      0% { transform: translateY(0); }
      100% { transform: translateY(-65px); }
    }

    /* Media Queries for larger screens */
    @media (min-width: 768px) {
      .cell, .btn {
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
    }

    @media (min-width: 1024px) {
      .game-container {
        gap: 6px;
        max-width: none;
        max-height: none;
      }
      .cell, .btn {
        width: 60px;
        height: 60px;
        font-size: 24px;
      }
    }
  </style>

</head>
<body>
  <h1>RubiksWord!</h1>
  <p>The grid below contains five 5-letter words horizontally.</p>
  <p>Use the arrows to rotate rows and columns!<br>
  <strong>Puzzle is solved when every row is a valid word. Columns do not need to be words.</strong></p>
  <div class="center-container">
    <div class="game-container" id="game"></div>
    <p id="moves">Moves: 0</p>
    <button class="btn" id="newGameBtn">New Game</button>
  </div>

  <script>
    const words = ["ABACK","ABASE","ABATE","ABIDE","ABODE","ABORT","ABOUT","ABUSE","ABUZZ","ACHES","ACHOO","ACIDS","ACTOR","ACUTE","ADAPT","ADDED","ADMIN","ADMIT","ADOBE","ADOPT","ADORN","ADULT","AFFIX","AFOOT","AFOUL","AFTER","AGAIN","AGENT","AGING","AGLOW","AGONY","AGREE","AHEAD","AHOLD","AIDED","AIMED","AIRED","AISLE","ALARM","ALERT","ALIAS","ALIEN","ALIKE","ALLAY","ALLOT","ALLOY","ALOFT","ALONE","ALOOF","ALOUD","ALPHA","AMAZE","AMBER","AMEND","AMINO","AMISS","AMONG","AMOUR","AMUSE","ANGEL","ANGER","ANGLE","ANGLO","ANGRY","ANIME","ANKLE","ANNUL","ANVIL","APART","APNEA","APPLE","APPLY","APRON","AREAS","ARENA","ARMED","ARMOR","AROSE","ARRAY","ARSON","ARTSY","ASIDE","ASKED","ASKEW","ASSET","ATOMS","ATONE","AUDIO","AUDIT","AUNTY","AVAIL","AVERT","AVOID","AWAIT","AWAKE","AWARD","AWARE","AWASH","AWFUL","AWOKE",
                   "BABEL","BABES","BACKS","BACON","BADDY","BADGE","BADLY","BAGEL","BAGGY","BAKED","BAKER","BAKES","BALER","BALKY","BALLS","BALMY","BANDS","BANDY","BANKS","BARED","BARKS","BARMY","BARON","BASED","BASIC","BASIL","BASIN","BATCH","BATES","BATHS","BATON","BATTY","BEACH","BEADS","BEADY","BEAKY","BEAMS","BEAMY","BEANS","BEARD","BEARS","BEAST","BEBOP","BEECH","BEEPS","BEERS","BEGAN","BEGIN","BEGOT","BEIGE","BELCH","BELLE","BELLS","BELLY","BELOW","BELTS","BENCH","BENDS","BENDY","BERTH","BESET","BESOT","BESTS","BIBLE","BICEP","BIDES","BIDET","BIKED","BIKER","BIKES","BILLS","BINGE","BINGO","BIPOD","BIRCH","BIRDS","BIRTH","BISON","BITES","BLACK","BLADE","BLAME","BLANK","BLAZE","BLEAK","BLEED","BLEEP","BLEND","BLESS","BLEST","BLIMP","BLIND","BLING","BLINK","BLISS","BLOAT","BLOCK","BLOND","BLOOD","BLOOM","BLOWN","BLOWS","BLOWY","BLUES","BLUFF","BLUNT","BLURS","BOARD","BOAST","BOATS","BOGUS","BOILS","BOMBS","BONED","BONES","BOOKS","BOOST","BOOTH","BOOZE","BORED","BORNE","BOUND","BOWEL","BOWLS","BOXED","BOXER","BOXES","BRACE","BRAID","BRAIL","BRAIN","BRAKE","BRAND","BRASS","BRAWL","BREAD","BREED","BRIBE","BRIDGE","BRING","BROAD","BROKE","BROWN","BRUSH","BRUTE","BUDGE","BUILT","BULLY","BUMPY","BUNCH","BUNNY","BURNS","BURNT","BUSHY","BUTTS","BUYER",
                   "CABIN","CABLE","CACHE","CADDY","CADET","CAKED","CAKES","CALVE","CAMEL","CAMEO","CAMPS","CANAL","CANDY","CANOE","CANON","CARDS","CARGO","CAROL","CARRY","CARTS","CARVE","CASED","CASTS","CATCH","CAUSE","CAVED","CAVES","CEASE","CEDAR","CELLO","CELLS","CELTS","CENTS","CHAIN","CHAIR","CHALK","CHAMP","CHART","CHASE","CHEAP","CHEAT","CHECK","CHEEK","CHEER","CHEFS","CHESS","CHEST","CHEWS","CHEWY","CHICK","CHIEF","CHILD","CHIME","CHIPS","CHIRP","CHIVE","CHOIR","CHOKE","CHOMP","CHORE","CHUCK","CHURN","CHUTE","CIDER","CIGAR","CLAIM","CLASP","CLASS","CLEAN","CLEAT","CLIFF","CLIMB","CLOAK","CLONE","CLOSE","CLOTH","CLOUD","CLOUT","CLOWN","CLUBS","CLUES","COAST","CODED","COILS","COINS","COLDS","COLOR","COMBO","COMES","COMFY","CONDO","CONES","CORAL","CORDS","CORNY","COSTS","COUCH","COUGH","COULD","COUNT","COVER","COVID","CRABS","CRACK","CRAFT","CRANE","CRAWL","CRAZE","CRAZY","CREAM","CRIBS","CRIED","CRIES","CRIME","CRISP","CROAK","CROWD","CROWN","CRUDE","CRUMB","CUPID","CURED","CURLY","CURRY","CURVE","CURVY","CUTCH","CUTER","CYSTS",
                   "DADDY","DAILY","DAIRY","DAISY","DANCE","DANDY","DARTS","DATED","DATES","DEALS","DEALT","DEATH","DEBTS","DEBUT","DECAF","DECAY","DECKS","DECOR","DECOY","DEEDS","DEEMS","DEITY","DELAY","DELTA","DELVE","DEMON","DENIM","DENSE","DEPTH","DERBY","DESKS","DETER","DETOX","DIARY","DICED","DICES","DIETS","DINGY","DIRTY","DISCS","DITCH","DITTO","DITTY","DIVES","DOCKS","DODGE","DOGGY","DOING","DOLLS","DONOR","DOORS","DOPED","DOTED","DOTTY","DOUGH","DOVES","DOWNS","DOWRY","DOZER","DOZES","DRAFT","DRAGS","DRAIN","DRAKE","DRAMA","DRANK","DRAPE","DRAWL","DRAWN","DRAWS","DREAD","DREAM","DRESS","DRIED","DRIER","DRILL","DRINK","DRIVE","DROID","DRONE","DROOL","DROPS","DROVE","DROWN","DRUGS","DRUID","DRUMS","DRUNK","DRYER","DUALS","DUCTS","DUDES","DUETS","DUKED","DUKES","DUMPS","DUNCE","DUNES","DUPED","DUSTY","DUVET","DWARF","DWEEB","DWELL","DYING",
                   "EAGER","EAGLE","EARLY","EARNS","EARTH","EASED","EASEL","EATEN","EATER","EBONY","EDEMA","EDGES","EDITS","EIGHT","EJECT","ELATE","ELBOW","ELDER","ELECT","ELITE","ELOPE","ELUDE","EMAIL","EMBED","EMBER","EMEND","EMOJI","EMOTE","EMPTY","ENACT","ENDED","ENEMA","ENEMY","ENJOY","ENTER","ENTRY","EQUAL","EQUIP","ERASE","ERECT","ERODE","ERROR","ERUPT","ESSAY","ETHER","ETHIC","ETUDE","EUROS","EVENT","EVERY","EVILS","EXACT","EXAMS","EXCEL","EXILE","EXIST","EXITS","EXPEL","EXTRA",
                   "FABLE","FACED","FACES","FACET","FACTS","FADES","FAILS","FAINT","FAIRS","FAIRY","FAKES","FALLS","FALSE","FAMED","FANCY","FANGS","FARCE","FARMS","FATAL","FATED","FATTY","FAVOR","FAZED","FEARS","FEAST","FECAL","FEEDS","FEELS","FEINT","FEIST","FELLA","FELON","FENCE","FERRY","FETAL","FETCH","FEVER","FIBER","FIELD","FIEND","FIFTH","FIFTY","FIGHT","FILES","FILMS","FILTH","FINAL","FINDS","FINED","FIRED","FIRES","FIRST","FISHY","FISTS","FITCH","FIVER","FIVES","FIXED","FIXER","FIXES","FIZZY","FLAGS","FLAKE","FLAME","FLANK","FLAPS","FLARE","FLASH","FLASK","FLATS","FLEAS","FLEET","FLESH","FLIED","FLIES","FLING","FLIPS","FLIRT","FLOAT","FLOCK","FLOOD","FLOOR","FLORA","FLOUR","FLOWN","FLUFF","FLUID","FLUKE","FLUME","FLUSH","FLUTE","FLYER","FOAMY","FOCUS","FOGGY","FOLKS","FONTS","FOODS","FOOLS","FORCE","FORGE","FORGO","FORKS","FORTH","FORTY","FORUM","FOUND","FRAIL","FRAME","FRANK","FRAUD","FREAK","FREED","FRESH","FRIED","FRIES","FRISK","FROCK","FROGS","FRONT","FROST","FROWN","FRUIT","FRYER","FUDGE","FUELS","FULLY","FUMED","FUMES","FUNDS","FUNNY","FUSED","FUSSY","FUZZY",
                   "GABLE","GAFFS","GAINS","GALES","GAMED","GAMER","GAMES","GANGS","GASES","GASPS","GASSY","GATED","GAUNT","GEARS","GEEKS","GEEKY","GENES","GENIE","GENRE","GENTS","GENUS","GERMS","GHOST","GIANT","GIDDY","GIFTS","GIRLS","GIRLY","GIVEN","GLADE","GLARE","GLASS","GLAZE","GLEAN","GLIDE","GLOAT","GLOBE","GLOBS","GLOOM","GLORY","GLOSS","GLOVE","GLOWS","GLUED","GLUES","GNARL","GNOME","GOADS","GOATS","GOING","GOODS","GOOFY","GOOPY","GOOSE","GORED","GOUGE","GRABS","GRACE","GRADE","GRAIN","GRAND","GRANT","GRAPE","GRAPH","GRASP","GRASS","GRAVY","GRAZE","GREAT","GREED","GREEN","GREET","GRIEF","GRILL","GRIND","GRIPE","GRIPS","GROAN","GROOM","GROPE","GROSS","GROUP","GROVE","GROWL","GROWN","GROWS","GRUEL","GRUNT","GUARD","GUESS","GUEST","GUIDE","GUILD","GUILT","GULPS","GUMMY","GUSTS","GUTSY",
                   "HABIT","HACKS","HAIRY","HALLS","HALVE","HANDS","HANDY","HANGS","HAPPY","HARDY","HARSH","HATCH","HATED","HATER","HATES","HAUNT","HAVEN","HAVOC","HAZED","HEADS","HEARD","HEART","HEAVY","HEIST","HELPS","HENCE","HERBY","HIDES","HIKED","HIKER","HIKES","HILLS","HINDS","HINGE","HINTS","HIPPO","HIPPY","HIRED","HITCH","HOARD","HOBBY","HOCUS","HOLDS","HOLED","HOLES","HOLEY","HOMED","HONOR","HOODS","HOOTS","HOPES","HORDE","HORSE","HOSED","HOSES","HOSTS","HOUND","HOURS","HOVER","HOWDY","HUBBY","HUMAN","HUMID","HUMOR","HUMPH","HUMPS","HURRY","HURTS",
                   "ICIER","ICING","ICONS","IDEAL","IDEAS","IDIOT","IDLES","IDOLS","IGLOO","IMAGE","INBOX","INCUR","INDEX","INEPT","INKED","INLET","INNER","INPUT","INSET","INTEL","INTRO","IODIN","IONIC","IRATE","IRONS","IRONY","ISSUE","ITEMS","IVORY",
                   "JACKS","JADED","JADES","JAILS","JANKY","JAUNT","JEANS","JEERS","JELLY","JERKS","JERKY","JESTS","JEWEL","JIFFY","JIGGY","JINKS","JIVED","JIVES","JOINS","JOINT","JOKED","JOKER","JOKES","JOKEY","JOLLY","JOLTS","JOWLS","JUDGE","JUICE","JUICY","JUMBO","JUMPS","JUMPY","JUNKY","JUROR","JUVIE",
                   "KARAT","KARMA","KAYAK","KEBAB","KEELS","KEEPS","KEFIR","KEYED","KICKS","KIDDO","KIDDY","KINGS","KIOSK","KITED","KITES","KNACK","KNEEL","KNEES","KNELL","KNIFE","KNOBS","KNOCK","KNOWN","KNOWS","KNUBS","KOALA","KOOKS",
                   "LABEL","LABOR","LACED","LACES","LACKS","LAGER","LAIRY","LAKES","LAMBS","LAMPS","LANDS","LAPSE","LARGE","LASTS","LATER","LAUGH","LAWED","LAWNS","LAYER","LEACH","LEADY","LEAKS","LEAKY","LEAPS","LEARN","LEASE","LEASH","LEAST","LEAVE","LEDGE","LEECH","LEEKS","LEFT","LEGAL","LEGGY","LEGIT","LEMON","LEMUR","LENDS","LETCH","LETUP","LEVEL","LEVER","LEXIS","LIARS","LIBEL","LIBRA","LIFTS","LIGHT","LIKED","LIKES","LIMIT","LINED","LINEN","LINER","LINGO","LINGS","LINKS","LIONS","LISPS","LISTS","LIVED","LIVER","LIVES","LOADS","LOANS","LOATH","LOBBY","LOCAL","LOCKS","LODGE","LOFTS","LOGIC","LOGIN","LONER","LONGS","LOOKS","LOOMS","LOOPS","LOOSE","LORDS","LOSER","LOSES","LOSSY","LOTTO","LOTUS","LOUSY","LOVED","LOVER","LOVES","LOWER","LOYAL","LUCID","LUCKS","LUCKY","LUMPY","LUNCH","LUNGS","LURCH","LURED","LURKS","LYING","LYMPH","LYRIC",
                   "MACHO","MACRO","MADAM","MADLY","MAFIA","MAGIC","MAIDS","MAINS","MAJOR","MAKER","MALES","MALES","MANGO","MANIA","MANIC","MANLY","MAPLE","MARCH","MARKS","MARRY","MARSH","MASKS","MASON","MATES","MAULS","MAXIM","MAYBE","MAYOR","MEALS","MEANS","MEANT","MEATY","MEDAL","MELON","MELTS","MENDS","MERCH","MERCY","MERGE","MERIT","MERRY","MESSY","METAL","METER","METRO","MICRO","MIDST","MIGHT","MILES","MILKY","MIMIC","MINCE","MINDS","MINOR","MINTS","MINTY","MIRKY","MITES","MIXED","MIXER","MOCHA","MOCKS","MODAL","MODEL","MODEM","MODES","MOGUL","MOIST","MOMMY","MONTH","MOONS","MOOSE","MORAL","MOTEL","MOTOR","MOTTO","MOUND","MOUNT","MOURN","MOUSE","MOUTH","MOVED","MOVER","MOVES","MOVIE","MUCKY","MUCUS","MUDDY","MULTI","MUMMY","MUSIC","MUTED","MYTHS",
                   "NACHO","NAILS","NAIVE","NAKED","NAMED","NAMES","NANNY","NASAL","NASTY","NATAL","NAVEL","NEARS","NECKS","NEEDS","NEEDY","NERDS","NERDY","NERVE","NERVY","NESTS","NEVER","NEWLY","NICER","NICHE","NIECE","NIGHT","NINES","NINTH","NOBLE","NOBLY","NOISY","NOMAD","NORTH","NOSES","NOSEY","NOTED","NOTES","NOUNS","NUDGE","NUKED","NURSE","NUTTY","NYLON",
                   "OASIS","OBESE","OBEYS","OBJECT","OCEAN","ODDLY","OFFAL","OFFER","OFTEN","OILED","OLDER","OLIVE","OMEGA","OMENS","ONION","ONSET","OPENS","OPERA","OPIUM","ORGAN","OUGHT","OUNCE","OUSTS","OUTER","OVARY","OVENS","OVERT","OWING","OWNED","OWNER","OXIDE","OZONE",
                   "PACED","PACER","PACTS","PAGED","PAGER","PAGES","PAINS","PAINT","PAIRS","PALMS","PANDA","PANEL","PANIC","PANTS","PANTY","PAPER","PARSE","PARTS","PARTY","PASTA","PASTE","PASTY","PATCH","PATHS","PEACE","PEACH","PEARL","PECAN","PEDAL","PEELS","PEERS","PENNY","PERIL","PERKY","PESTO","PESTS","PETAL","PHOTO","PIANO","PIECE","PILED","PINCH","PITCH","PIVOT","PIZZA","PLACE","PLAIN","PLANE","PLANK","PLANS","PLANT","PLATE","PLAYS","PLUGS","PLUMP","PLUMS","POACH","POEMS","POETS","POKED","POKES","POOCH","PORES","POUND","POWER","PRANK","PRAYS","PRICE","PRIDE","PRINT","PRIOR","PRISM","PRIVY","PRIZE","PROBE","PROPS","PROUD","PRUDE","PUFFY","PULSE","PUMPS","PUNCH","PUPPY","PUREE","PURGE","PURSE","PUTTY","PYLON",
                   "QUADS","QUAKE","QUEEN","QUERY","QUEST","QUEUE","QUICK","QUIET","QUILL","QUILT","QUIRK","QUITE","QUITS","QUOTA","QUOTE",
                   "RABID","RACED","RACER","RACES","RACKS","RADAR","RADIO","RAGED","RAGES","RAILS","RAINS","RAINY","RAKED","RALLY","RAMEN","RAMPS","RANCH","RANGE","RAPID","RASPY","RATED","RATES","RATIO","RAVED","RAVEN","RAZER","RAZOR","REACT","READY","REALM","REAMS","REBEL","REBID","REBUY","RECAP","RECON","REHAB","REIGN","REINS","RELAY","RELIC","REMIT","REMIX","RENAL","RENEW","REPAY","REPLY","RESET","RESIN","RETRO","RETRY","REUSE","RHINO","RHYME","RIDES","RIDGE","RIFLE","RIFTS","RIGHT","RIGID","RINGS","RINSE","RIOTS","RIPEN","RISES","RISKS","RISKY","RITES","RIVER","ROADS","ROARS","ROAST","ROBOT","ROCKS","ROCKY","RODEO","ROGUE","ROLES","ROLLS","ROOTS","ROPED","ROPES","ROSES","ROUGH","ROUND","ROUSE","ROUTE","ROVER","ROYAL","RUBLE","RUGBY","RUINS","RULED","RULER","RULES","RUMOR","RUNNY","RURAL","RUSTY",
                   "SABER","SACKS","SADLY","SAFER","SAINT","SALAD","SALES","SALON","SALSA","SALTS","SALTY","SANDY","SATIN","SAUCE","SAUCY","SAUNA","SAVED","SAVER","SAVES","SAVOR","SCALD","SCALE","SCALP","SCAMS","SCARE","SCARF","SCARY","SCENE","SCENT","SCOFF","SCONE","SCOPE","SCORE","SCORN","SCOUR","SCRAM","SCRUB","SCUBA","SCUFF","SEATS","SECTS","SEEDS","SEEKS","SEEMS","SEIZE","SENDS","SENSE","SERVE","SETUP","SEVEN","SEVER","SEWER","SHACK","SHADE","SHAFT","SHAKE","SHALL","SHAME","SHAPE","SHARK","SHELF","SHELL","SHIFT","SHINE","SHINY","SHIPS","SHIRT","SHOCK","SHOOT","SHORE","SHOTS","SHOUT","SHRED","SHRUG","SIDED","SILKY","SILLY","SINCE","SINGS","SINKS","SINUS","SITED","SITES","SIXTH","SIXTY","SIZED","SIZES","SKATE","SKIES","SKILL","SLACK","SLANG","SLAVE","SLEEP","SLEET","SLEPT","SLICK","SLIDE","SLIME","SLING","SLOPE","SLOSH","SLOTH","SLUNG","SLURP","SLUSH","SMALL","SMART","SMASH","SMEAR","SMELL","SMELT","SMILE","SMOKE","SMOKY","SNACK","SNAIL","SNAKE","SNARE","SNOOP","SNORE","SNUFF","SOBER","SOCKS","SOFTY","SOLVE","SOUND","SPACE","SPADE","SPARE","SPARK","SPEAK","SPEAR","SPEED","SPEEL","SPICY","SPIED","SPIES","SPIKY","SPILL","SPINE","SPITE","SPLIT","SPOIL","SPOKE","SPOOF","SPOON","SPORT","SPOTS","SPOUT","SQUAD","SQUID","STACK","STAFF","STAGE","STAIR","STALK","STAMP","STARE","STARS","START","STASH","STATE","STEAK","STEAL","STEAM","STEEL","STEEP","STEPS","STICH","STICK","STIFF","STING","STINK","STINT","STOCK","STOKE","STOMP","STONE","STOOD","STOOL","STOOP","STORE","STORM","STORY","STOVE","STRAW","STRAY","STUBS","STUCK","STUFF","STUNT","STYLE","SUGAR","SUITE","SUNNY","SUPER","SUSHI","SWEAT","SWEET","SWELL","SWEPT","SWIFT","SWING","SWIPE","SWISH","SWORD","SWORN","SYRUP",
                   "TABLE","TABOO","TAKEN","TAKER","TAKES","TALES","TALK","TALON","TANGO","TARDY","TASTE","TASTY","TAXED","TAXES","TEACH","TEASE","TEETH","TENET","TENTH","THANK","THEFT","THEIR","THEME","THERE","THESE","THICK","THIEF","THIGH","THING","THINK","THORN","THOSE","THREE","THREW","THROW","THUGS","THUMB","TIBIA","TIGER","TIGHT","TIMER","TINGE","TIPSY","TIRED","TIRES","TITAN","TITER","TITLE","TOAST","TOKEN","TONIC","TOOTH","TOPIC","TORCH","TORSO","TOTAL","TOUCH","TOUGH","TOWEL","TOWER","TOXIC","TRACE","TRACT","TRADE","TRAIN","TRAIT","TRAMP","TRASH","TREAD","TREND","TRIAL","TRICK","TRIED","TRUCE","TRUCK","TRULY","TRUNK","TRUTH","TULIP","TUMMY","TUNED","TUNER","TURBO","TWEAK","TWEED","TWICE","TWIRL","TWIST","TYPED",
                   "ULCER","ULTRA","UNCLE","UNDER","UNDUE","UNFIT","UNIFY","UNION","UNITE","UNITY","UNTIE","UNTIL","UNZIP","UPEND","UPPER","UPSET","URBAN","URINE","USAGE","USING","USURP",
                   "VAGUE","VALET","VALID","VALUE","VALVE","VAPOR","VAULT","VEGAN","VENOM","VENUE","VERGE","VERVE","VIDEO","VILLA","VINYL","VIOLA","VIPER","VIRAL","VISIT","VITAL","VIVID","VOCAL","VOICE","VOMIT","VOUCH",
                   "WACKY","WADED","WAGER","WAGES","WAGON","WAIST","WALKS","WALLS","WANTS","WARNS","WARTY","WASHY","WASTE","WATCH","WATER","WAVED","WAVEY","WAXED","WEARY","WEEKS","WEIGH","WEIRD","WENCH","WHACK","WHALE","WHEAT","WHEEL","WHERE","WHICH","WHILE","WHISK","WHITE","WHOLE","WHOOF","WHOSE","WIDEN","WIDER","WIDOW","WIDTH","WIELD","WIMPY","WINCE","WINCH","WINDY","WINED","WIPED","WIPER","WIPES","WISPY","WITCH","WITTY","WIVES","WOKEN","WOMAN","WOMEN","WONKY","WOOZY","WORDY","WORLD","WORST","WOULD","WOUND","WREAK","WRECK","WRING","WRIST","WRITE","WRONG","WROTE",
                   "XENON",
                   "YACHT","YAHOO","YAPPY","YARNS","YEARN","YEARS","YEAST","YIELD","YIKES","YOUNG","YOURS","YUCKY","YUMMY","YUPPY","YURTS",
                   "ZEBRA","ZEROS","ZESTY","ZILCH","ZINGY","ZIPPY","ZONES","ZOOMS"

    ];

    // COLORS FOR EACH WORD (ROW)
    const wordColors = ["#e74c3c", "#f1c40f", "#2ecc71", "#3498db", "#9b59b6"]; // 5 distinct colors

    function pickRandomWords(wordList, count) {
      const shuffled = [...wordList].sort(() => Math.random() - 0.5);
      return shuffled.slice(0, count);
    }

    let selectedWords = pickRandomWords(words, 5);
    let originalGrid = selectedWords.map(w => w.split(""));
    let grid = JSON.parse(JSON.stringify(originalGrid));
    let moves = 0;

    // Track original row for each tile (color origin)
    let originRows = Array.from({length: 5}, (_, r) => Array(5).fill(r));
    let movesEl;
    // SCRAMBLE ROTATIONS (do NOT increment moves)
    function rotateRowRightScramble(row) {
      const last = grid[row][4];
      const lastOrigin = originRows[row][4];
      for (let i = 4; i > 0; i--) {
        grid[row][i] = grid[row][i - 1];
        originRows[row][i] = originRows[row][i - 1];
      }
      grid[row][0] = last;
      originRows[row][0] = lastOrigin;
    }

    function rotateRowLeftScramble(row) {
      const first = grid[row][0];
      const firstOrigin = originRows[row][0];
      for (let i = 0; i < 4; i++) {
        grid[row][i] = grid[row][i + 1];
        originRows[row][i] = originRows[row][i + 1];
      }
      grid[row][4] = first;
      originRows[row][4] = firstOrigin;
    }

    function rotateColDownScramble(col) {
      const last = grid[4][col];
      const lastOrigin = originRows[4][col];
      for (let i = 4; i > 0; i--) {
        grid[i][col] = grid[i - 1][col];
        originRows[i][col] = originRows[i - 1][col];
      }
      grid[0][col] = last;
      originRows[0][col] = lastOrigin;
    }

    function rotateColUpScramble(col) {
      const first = grid[0][col];
      const firstOrigin = originRows[0][col];
      for (let i = 0; i < 4; i++) {
        grid[i][col] = grid[i + 1][col];
        originRows[i][col] = originRows[i + 1][col];
      }
      grid[4][col] = first;
      originRows[4][col] = firstOrigin;
    }

    function scramble() {
      selectedWords = pickRandomWords(words, 5);
      originalGrid = selectedWords.map(w => w.split(""));
      grid = JSON.parse(JSON.stringify(originalGrid));
      originRows = Array.from({length: 5}, (_, r) => Array(5).fill(r));
      for (let i = 0; i < 15; i++) {
        const r = Math.floor(Math.random() * 5);
        const c = Math.floor(Math.random() * 5);
        if (Math.random() > 0.5) {
          rotateRowRightScramble(r);
        } else {
          rotateRowLeftScramble(r);
        }
        if (Math.random() > 0.5) {
          rotateColDownScramble(c);
        } else {
          rotateColUpScramble(c);
        }
      }
      moves = 0;
      update();
    }

    // USER ROTATIONS (always increment moves)
    function rotateRowRight(row) {
      const last = grid[row][4];
      const lastOrigin = originRows[row][4];
      for (let i = 4; i > 0; i--) {
        grid[row][i] = grid[row][i - 1];
        originRows[row][i] = originRows[row][i - 1];
      }
      grid[row][0] = last;
      originRows[row][0] = lastOrigin;
      moves++;
    }

    function rotateRowLeft(row) {
      const first = grid[row][0];
      const firstOrigin = originRows[row][0];
      for (let i = 0; i < 4; i++) {
        grid[row][i] = grid[row][i + 1];
        originRows[row][i] = originRows[row][i + 1];
      }
      grid[row][4] = first;
      originRows[row][4] = firstOrigin;
      moves++;
    }

    function rotateColDown(col) {
      const last = grid[4][col];
      const lastOrigin = originRows[4][col];
      for (let i = 4; i > 0; i--) {
        grid[i][col] = grid[i - 1][col];
        originRows[i][col] = originRows[i - 1][col];
      }
      grid[0][col] = last;
      originRows[0][col] = lastOrigin;
      moves++;
    }

    function rotateColUp(col) {
      const first = grid[0][col];
      const firstOrigin = originRows[0][col];
      for (let i = 0; i < 4; i++) {
        grid[i][col] = grid[i + 1][col];
        originRows[i][col] = originRows[i + 1][col];
      }
      grid[4][col] = first;
      originRows[4][col] = firstOrigin;
      moves++;
    }

    // ANIMATION WRAPPERS
    function animateRow(row, direction) {
      const cells = document.querySelectorAll(`.cell[data-row='${row}']`);
      cells.forEach(cell => {
        cell.classList.add(direction === "right" ? "slide-right" : "slide-left");
      });
      setTimeout(() => {
        if (direction === "right") {
          rotateRowRight(row);
        } else {
          rotateRowLeft(row);
        }
        update();
      }, 300);
    }
    function animateCol(col, direction) {
      const cells = document.querySelectorAll(`.cell[data-col='${col}']`);
      cells.forEach(cell => {
        cell.classList.add(direction === "down" ? "slide-down" : "slide-up");
      });
      setTimeout(() => {
        if (direction === "down") {
          rotateColDown(col);
        } else {
          rotateColUp(col);
        }
        update();
      }, 300);
    }

    // CREATE GRID (use originRows to color tiles)
    function createGrid() {
      game.innerHTML = "";
      for (let row = 0; row < 7; row++) {
        for (let col = 0; col < 7; col++) {
          if (row === 0 && col >= 1 && col <= 5) {
            addButton("â†‘", () => animateCol(col - 1, "up"));
          } else if (row === 6 && col >= 1 && col <= 5) {
            addButton("â†“", () => animateCol(col - 1, "down"));
          } else if (col === 0 && row >= 1 && row <= 5) {
            addButton("â†", () => animateRow(row - 1, "left"), wordColors[row - 1]);
          } else if (col === 6 && row >= 1 && row <= 5) {
            addButton("â†’", () => animateRow(row - 1, "right"), wordColors[row - 1]);
          } else if (row >= 1 && row <= 5 && col >= 1 && col <= 5) {
            const div = document.createElement("div");
            div.className = "cell";
            div.dataset.row = row - 1;
            div.dataset.col = col - 1;
            const char = grid[row - 1][col - 1];
            div.textContent = char;
            // Color from the original row of the tile
            const colorIdx = originRows[row - 1][col - 1];
            const bgColor = wordColors[colorIdx];
            div.style.backgroundColor = bgColor;
            div.style.color = (bgColor === "#f1c40f") ? "#222" : "white";
            div.style.border = "2px solid #555";
            game.appendChild(div);
          } else {
            const div = document.createElement("div");
            div.className = "cell empty";
            game.appendChild(div);
          }
        }
      }
    }

    // ADD COLOR ARGUMENT TO BUTTONS
    function addButton(symbol, action, color) {
      const btn = document.createElement("button");
      btn.className = "btn";
      btn.textContent = symbol;
      btn.onclick = action;
      if (color) {
        btn.style.backgroundColor = color;
        if (color === "#f1c40f") btn.style.color = "#222";
        else btn.style.color = "white";
      }
      game.appendChild(btn);
    }

    function update() {
      createGrid();
      movesEl.textContent = `Moves: ${moves}`;
      checkWin();
    }

    function checkWin() {
      // Win if every row forms a valid word (columns don't matter)
      let allRowsAreWords = true;
      for (let i = 0; i < 5; i++) {
        const rowWord = grid[i].join("");
        if (!words.includes(rowWord)) {
          allRowsAreWords = false;
          break;
        }
      }
      if (allRowsAreWords) {
        let feedback = "";
        if (moves < 100)
          feedback = "You are a GENIUS!";
        else if (moves < 150)
          feedback = "You are a VERY SMART PERSON!";
        else if (moves < 200)
          feedback = "You are a SMART PERSON!";
        else if (moves < 300)
          feedback = "You are DEEPLY AVERAGE!";
        else
          feedback = "Wow you showed great commitment there!";

        setTimeout(() => alert(`ðŸŽ‰ You solved it in ${moves} moves!\n${feedback}`), 100);
      }
    }

    window.addEventListener("DOMContentLoaded", () => {
  movesEl = document.getElementById("moves");
  scramble();
});
  

    newGameBtn.onclick = scramble;
  </script>
</body>
</html>
